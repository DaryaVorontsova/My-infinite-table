# My-inifinite-table
**My-inifinite-table** — это демонстрационное React-приложение на TypeScript, которое показывает большой динамический набор данных в виде табличного интерфейса с бесконечной подгрузкой (infinite scroll) и функционалом для создания новых записей через динамический конструктор полей. Проект использует Redux Toolkit для централизованного управления состоянием, json-server как мок-сервер данных и Bootstrap 5 для стилизации.

## Основные возможности:
1) Отображение таблицы с записью любых JSON-объектов (куда поля в записях не обязательно совпадают между собой).
2) Бесконечная подгрузка (react-infinite-scroll-component) данных по порциям (paggination) с API.
3) Динамический конструктор записей — пользователь может добавить сколько угодно полей (минимум 5), указать для каждого имя, тип и значение, после чего форма валидируется и отправляется на сервер.

### Фича приложения
Динамический конструктор записи. Форма, где пользователь может добавить любое число полей. Для каждого поля:
1) Ввести имя ключа.
2) Выбрать тип данных.
3) Ввести значение (валидируется в зависимости от выбранного типа).
4) Минимум 5 полей требуется для успешной отправки.

### Использованные технологии
1) React 18 + TypeScript
2) Redux Toolkit
3) React-Infinite-Scroll-Component (для реализации infinite scroll)
4) Axios (HTTP-клиент)
5) json-server (мок-сервер REST API)
6) Bootstrap 5 (CSS-фреймворк)
7) ESLint + Prettier (лининговые правила и автоформатирование)
8) Vite (сборщик)

## Структура проекта
```
my-infinite-table/
├── public/
│   └── index.html
├── src/
│   ├── app/
│   │   ├── hooks.ts          # типизированные useDispatch/useSelector
│   │   └── store.ts          # конфигурация Redux store
│   ├── features/
│   │   ├── recordConstructor/
│   │   │   ├── RecordConstructor.tsx
│   │   │   ├── validation.ts
│   │   │   └── fieldTypes.ts
│   │   ├── tableBlock/
│   │   │   ├── TableBlock.tsx
│   │   │   ├── recordsSlice.ts
│   │   │   └── selectors.ts
│   │   └── ...               # другие фичи, если появляются
│   ├── shared/
│   │   ├── api/
│   │   │   └── recordsApi.ts  # fetchRecords, createRecord
│   │   └── api/link.ts        # экспорт API_URL = 'http://localhost:3001'
│   ├── types/
│   │   └── record.ts          # интерфейсы RecordType, FieldType, Field
│   ├── App.tsx
│   └── index.tsx
├── db.json                    # база данных для json-server
├── package.json
├── tsconfig.json
└── README.md
```

## Установка и запуск
1. Установка Node.js и npm (если ещё не установлены)
Проверьте, установлен ли у вас Node.js. В терминале (консоль) выполните:
```bash
node --version
npm --version
```
Если вы видите номера версий (v18.x.x, 8.x.x и т.д.), переходите к шагу 2.

2. Если команд не найдены, скачайте и установите Node.js с официального сайта: [https://nodejs.org/](https://nodejs.org/)
Рекомендуется брать LTS-релиз. Установка включит и npm.

После установки ещё раз проверьте в терминале:

```bash
node --version
npm --version
```
Убедитесь, что версии отображаются без ошибок.

3. Клонирование репозитория
```bash
git clone https://github.com/your-username/my-infinite-table.git
cd my-infinite-table
```
2. Установка зависимостей
``` bash
npm install
```
3. Запуск json-server (мок-сервера)
Проект предполагает, что json-server будет слушать порт 3001.
Убедитесь, что файл db.json находится в корне репозитория.

```bash
npm run server
```
4. Запуск React-приложения
В отдельном терминале (не останавливая json-server) запустите:

```bash
npm run dev
```
Откроется [http://localhost:5173](http://localhost:5173) (или другой свободный порт, если 5173 занят).

### Использование приложения
- Таблица записей
При первом запуске загружается первая страница (10 записей).
Если данные не заполнили высоту контейнера, приложение автоматически подгрузит следующие порции, пока не появится скролл.
При прокрутке до конца списка новые данные догружаются автоматически.
Когда все записи из db.json получены, отображается сообщение “Все данные загружены”.

- Конструктор записи
На странице выше таблицы доступна форма-конструктор.
Для каждой новой записи:
Добавьте минимум 5 полей при помощи кнопки “+ Добавить поле”.
Для каждого поля введите:
Название поля (ключ). Допустимы латиница, кириллица, цифры, _ и -.
Тип данных (string, number, boolean, date, email).
Значение — валидируется автоматически в зависимости от выбранного типа.
Если полей меньше 5 или есть ошибки в валидации — кнопка “Создать запись” будет недоступна, а под полями появятся сообщения об ошибках.
После успешной отправки запись добавится в базу (json-server), ей будет присвоен новый id.

### Тестирование
Тесты
В проекте реализованы юнит-тесты с помощью Jest.

1) **Покрытие бизнес-логики**. Для функции валидации полей (validateField) написаны тесты, которые покрывают все кейсы:
- Проверка обязательности имени поля и допустимых символов
- Валидация типов (email, число, дата, boolean)
- Проверка на пустое значение
- Проверка корректной работы при валидных данных

2) **Тесты API**. Протестированы асинхронные сетевые запросы к серверу:
- Получение записей (GET /records)
- Создание записи (POST /records)
Проверяется правильность передачи и обработки данных, успешный ответ от сервера и корректная структура результата.

Пример запуска тестов:
```bash
npm run test
```